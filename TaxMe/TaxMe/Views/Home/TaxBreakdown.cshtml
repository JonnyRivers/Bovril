@using TaxMe.Models
@model TaxBreakdown

@{
    ViewBag.Title = "TaxBreakdown";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid">
    <h4>Tax Breakdown</h4>
    <table class="table table-bordered">
        <tbody>
            <tr>
                <td class="col-lg-10">Gross Annual Income</td>
                <td class="col-lg-2">$@Html.DisplayFor(m => m.GrossAnnualIncome)</td>
            </tr>
            @foreach (Tax tax in Model.Taxes)
            {
                <tr>
                    <td class="col-lg-10">@tax.Name</td>
                    <td class="col-lg-2">$@tax.Amount.ToString("0.00")</td>
                </tr>
            }
            <tr>
                <td class="col-lg-10">Total Tax</td>
                <td class="col-lg-2">$@Html.DisplayFor(m => m.TotalTax)</td>
            </tr>
            <tr>
                <td class="col-lg-10">Net Annual Income</td>
                <td class="col-lg-2">$@Html.DisplayFor(m => m.NetAnnualIncome)</td>
            </tr>
        </tbody>
    </table>

    @foreach (Tax tax in Model.Taxes) { 
        <h4>@tax.Name</h4>
        <table class="table table-bordered">
            <tbody>
                @foreach(TaxLine taxLine in tax.Lines)
                { 
                    <tr>
                        <td class="col-lg-8">@taxLine.Name</td>
                        <td class="col-lg-2">@taxLine.Rate</td>
                        <td class="col-lg-2">$@taxLine.Amount.ToString("0.00")</td>
                    </tr>
                }
            </tbody>
        </table>
    }
</div>